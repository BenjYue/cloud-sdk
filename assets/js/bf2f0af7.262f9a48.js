"use strict";(self.webpackChunksap_cloud_sdk_documentation=self.webpackChunksap_cloud_sdk_documentation||[]).push([[8824],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>u});var i=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=i.createContext({}),c=function(e){var t=i.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},l=function(e){var t=c(e.components);return i.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),m=c(n),u=o,h=m["".concat(p,".").concat(u)]||m[u]||d[u]||r;return n?i.createElement(h,a(a({ref:t},l),{},{components:n})):i.createElement(h,a({ref:t},l))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=m;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<r;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},94978:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var i=n(87462),o=(n(67294),n(3905));const r={id:"on-premise",title:"On-Premise Connectivity",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"On-Premise",description:"This article describes the On-Premise connectivity features of the SAP Cloud SDK for Java.",keywords:["sap","cloud","sdk","java","connectivity","btp","on-premise"]},a=void 0,s={unversionedId:"features/connectivity/on-premise",id:"features/connectivity/on-premise",title:"On-Premise Connectivity",description:"This article describes the On-Premise connectivity features of the SAP Cloud SDK for Java.",source:"@site/docs-java/features/connectivity/002-on-premise.mdx",sourceDirName:"features/connectivity",slug:"/features/connectivity/on-premise",permalink:"/cloud-sdk/docs/java/features/connectivity/on-premise",draft:!1,editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs-java/features/connectivity/002-on-premise.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"on-premise",title:"On-Premise Connectivity",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"On-Premise",description:"This article describes the On-Premise connectivity features of the SAP Cloud SDK for Java.",keywords:["sap","cloud","sdk","java","connectivity","btp","on-premise"]},sidebar:"docsJavaSidebar",previous:{title:"BTP Destination Service",permalink:"/cloud-sdk/docs/java/features/connectivity/btp-destination-service"},next:{title:"Bound Services",permalink:"/cloud-sdk/docs/java/features/connectivity/service-bindings"}},p={},c=[{value:"Cloud Foundry To On-Premise",id:"cloud-foundry-to-on-premise",level:2},{value:"Principal Propagation",id:"principal-propagation",level:3},{value:"1. Token Forwarding (Default)",id:"1-token-forwarding-default",level:4},{value:"2. Token Exchange (Discouraged)",id:"2-token-exchange-discouraged",level:4},{value:"Kubernetes To On-Premise",id:"kubernetes-to-on-premise",level:2},{value:"Non-Production Deployment To On-Premise",id:"non-production-deployment-to-on-premise",level:2}],l={toc:c};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Connecting to On-Premise systems is a crucial part of many enterprise applications.\nTo make this as easy as possible, the SAP Cloud SDK offers seamless integration with the ",(0,o.kt)("a",{parentName:"p",href:"https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/connectivity"},"SAP BTP Connectivity Service")," both on ",(0,o.kt)("a",{parentName:"p",href:"#cloud-foundry-to-on-premise"},"Cloud Foundry")," and ",(0,o.kt)("a",{parentName:"p",href:"#kubernetes-to-on-premise"},"Kubernetes-based environments")," (e.g. Kyma)."),(0,o.kt)("h2",{id:"cloud-foundry-to-on-premise"},"Cloud Foundry To On-Premise"),(0,o.kt)("p",null,"To enable On-Premise connectivity for applications that are deployed on Cloud Foundry, the SAP Cloud SDK requires ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("em",{parentName:"strong"},"exactly")," one service binding")," to the SAP BTP Connectivity Service.\nThe information provided within this service binding is then used to ",(0,o.kt)("a",{parentName:"p",href:"http-destinations#deriving-the-proxy-authorization-header"},"derive the ",(0,o.kt)("inlineCode",{parentName:"a"},"ProxyAuthorization")," header")," for ",(0,o.kt)("inlineCode",{parentName:"p"},"Destination")," objects that use ",(0,o.kt)("a",{parentName:"p",href:"pathname:///java-api/v5/com/sap/cloud/sdk/cloudplatform/connectivity/ProxyType.html#ON_PREMISE"},(0,o.kt)("inlineCode",{parentName:"a"},"ON_PREMISE"))," as their ",(0,o.kt)("a",{parentName:"p",href:"pathname:///java-api/v5/com/sap/cloud/sdk/cloudplatform/connectivity/HttpDestinationProperties.html#getProxyType()"},(0,o.kt)("inlineCode",{parentName:"a"},"ProxyType")),"."),(0,o.kt)("h3",{id:"principal-propagation"},"Principal Propagation"),(0,o.kt)("p",null,"Often times, On-Premise systems do have their own user management, which, in most cases, does not match the user management of Cloud Identity Providers.\nThis is why tenants and users on the application side need to be exchanged for entities that are registered within the On-Premise system.\nThis process is called ",(0,o.kt)("a",{parentName:"p",href:"https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/configuring-principal-propagation?locale=en-"},(0,o.kt)("strong",{parentName:"a"},(0,o.kt)("em",{parentName:"strong"},"principal propagation"))),"."),(0,o.kt)("p",null,"The SAP Cloud SDK, therefore, supports the ",(0,o.kt)("a",{parentName:"p",href:"pathname:///java-api/v5/com/sap/cloud/sdk/cloudplatform/connectivity/AuthenticationType.html#PRINCIPAL_PROPAGATION"},(0,o.kt)("inlineCode",{parentName:"a"},"PrincipalPropagation")," authentication type")," for On-Premise destinations.\nThe concrete authentication flow is hereby separated into two parts, which can be configued by setting a property called ",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"em"},"cloudsdk.principalPropagationMode"))," on the ",(0,o.kt)("inlineCode",{parentName:"p"},"Destination")," object."),(0,o.kt)("h4",{id:"1-token-forwarding-default"},"1. Token Forwarding (Default)"),(0,o.kt)("p",null,"If the ",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"em"},"cloudsdk.principalPropagationMode"))," property is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"TOKEN_FORWARDING"),", or if the property is not set at all, the ",(0,o.kt)("a",{parentName:"p",href:"pathname:///java-api/v5/com/sap/cloud/sdk/cloudplatform/connectivity/PrincipalPropagationMode.html#TOKEN_FORWARDING"},(0,o.kt)("inlineCode",{parentName:"a"},"TOKEN_FORWARDING")," strategy")," will be applied."),(0,o.kt)("h4",{id:"2-token-exchange-discouraged"},"2. Token Exchange (Discouraged)"),(0,o.kt)("admonition",{title:"Discouraged",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Using the ",(0,o.kt)("inlineCode",{parentName:"p"},"TOKEN_EXCHANGE")," strategy is discouraged as it results in unnecessary roundtrips and is therefore less performant than the ",(0,o.kt)("inlineCode",{parentName:"p"},"TOKEN_FORWARDING")," strategy.")),(0,o.kt)("p",null,"If the ",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"em"},"cloudsdk.principalPropagationMode"))," property is set to ",(0,o.kt)("inlineCode",{parentName:"p"},"TOKEN_EXCHANGE"),", the ",(0,o.kt)("a",{parentName:"p",href:"pathname:///java-api/v5/com/sap/cloud/sdk/cloudplatform/connectivity/PrincipalPropagationMode.html#TOKEN_EXCHANGE"},(0,o.kt)("inlineCode",{parentName:"a"},"TOKEN_EXCHANGE")," strategy")," will be applied."),(0,o.kt)("h2",{id:"kubernetes-to-on-premise"},"Kubernetes To On-Premise"),(0,o.kt)("p",null,"The SAP Cloud SDK provides support On-Premise connectivity on Kubernetes-based environments as ",(0,o.kt)("a",{parentName:"p",href:"../../environments/kubernetes-kyma#on-premise-connectivity"},"documented here"),"."),(0,o.kt)("h2",{id:"non-production-deployment-to-on-premise"},"Non-Production Deployment To On-Premise"),(0,o.kt)("p",null,"In non-production environments, such as a developer's local machine or a CI/CD pipeline, the SAP Cloud SDK can still be used to connect to On-Premise systems as ",(0,o.kt)("a",{parentName:"p",href:"running-locally"},"documented here"),"."))}d.isMDXComponent=!0}}]);