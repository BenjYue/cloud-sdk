"use strict";(self.webpackChunksap_cloud_sdk_documentation=self.webpackChunksap_cloud_sdk_documentation||[]).push([[1559],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var d=n.createContext({}),s=function(e){var t=n.useContext(d),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(d.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,d=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=s(a),m=l,k=p["".concat(d,".").concat(m)]||p[m]||c[m]||i;return a?n.createElement(k,r(r({ref:t},u),{},{components:a})):n.createElement(k,r({ref:t},u))}));function m(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,r=new Array(i);r[0]=p;var o={};for(var d in t)hasOwnProperty.call(t,d)&&(o[d]=t[d]);o.originalType=e,o.mdxType="string"==typeof e?e:l,r[1]=o;for(var s=2;s<i;s++)r[s]=a[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,a)}p.displayName="MDXCreateElement"},24436:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>s});var n=a(87462),l=(a(67294),a(3905));const i={id:"5.0-upgrade",title:"Update to Version 5 of the SAP Cloud SDK",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"Update to Version 5",description:"Update your application to use version 5 of the SAP Cloud SDK",keywords:["sap","cloud","sdk","cloud native","cloud sdk","sap cloud sdk",5,"Update"]},r=void 0,o={unversionedId:"guides/5.0-upgrade",id:"version-v5/guides/5.0-upgrade",title:"Update to Version 5 of the SAP Cloud SDK",description:"Update your application to use version 5 of the SAP Cloud SDK",source:"@site/docs-java_versioned_docs/version-v5/guides/5.0-upgrade.mdx",sourceDirName:"guides",slug:"/guides/5.0-upgrade",permalink:"/cloud-sdk/docs/java/v5/guides/5.0-upgrade",draft:!1,editUrl:"https://github.com/SAP/cloud-sdk/edit/main/docs-java_versioned_docs/version-v5/guides/5.0-upgrade.mdx",tags:[],version:"v5",frontMatter:{id:"5.0-upgrade",title:"Update to Version 5 of the SAP Cloud SDK",hide_title:!1,hide_table_of_contents:!1,sidebar_label:"Update to Version 5",description:"Update your application to use version 5 of the SAP Cloud SDK",keywords:["sap","cloud","sdk","cloud native","cloud sdk","sap cloud sdk","5","Update"]},sidebar:"docsJavaSidebar",previous:{title:"Kubernetes with SAP Kyma",permalink:"/cloud-sdk/docs/java/v5/environments/kubernetes-kyma"},next:{title:"Dependency Management",permalink:"/cloud-sdk/docs/java/v5/guides/manage-dependencies"}},d={},s=[{value:"List of modules that have been removed with version 5",id:"list-of-modules-that-have-been-removed-with-version-5",level:2},{value:"List of modules that remain deprecated with version 5",id:"list-of-modules-that-remain-deprecated-with-version-5",level:2},{value:"List of API that have been removed with version 5",id:"list-of-api-that-have-been-removed-with-version-5",level:2},{value:"List of changes to the OData Generator",id:"list-of-changes-to-the-odata-generator",level:2}],u={toc:s};function c(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("admonition",{type:"caution"},(0,l.kt)("p",{parentName:"admonition"},"Version 5 of the SAP Cloud SDK is still under active development and hence the migration guide is incomplete.\nWe will publish the full migration guide when we release v5.")),(0,l.kt)("h2",{id:"list-of-modules-that-have-been-removed-with-version-5"},"List of modules that have been removed with version 5"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Full list of removed modules"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Blockchain:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"blockchain-business-services-sdk")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"blockchain-business-services-visibility")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"blockchain-client-fabric")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"blockchain-client-multichain")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"scp-blockchain")))),(0,l.kt)("li",{parentName:"ul"},"Neo related modules:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"auditlog-scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cloudplatform-connectivity-scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cloudplatform-core-scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"security-scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"tenant-scp-neo")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"concurrency-scp-neo")))),(0,l.kt)("li",{parentName:"ul"},"Pregenerated clients",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"scp-workflow-cf")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"btp-business-rules")))),(0,l.kt)("li",{parentName:"ul"},"Others:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk:sdk-sjb-bom")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.archetypes:sdk-neo-javaee7")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.plugins:plugins-parent")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.plugins:scp-neo-maven-plugin")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.cloudplatform:security-servlet")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.datamodel:odata-generator-cli"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Call the generator directly as a maven plugin: ",(0,l.kt)("inlineCode",{parentName:"li"},"mvn com.sap.cloud.sdk.datamodel:odata-generator-maven-plugin:5.0.0:generate")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.datamodel:odata-v4-generator-cli"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Call the generator directly as a maven plugin: ",(0,l.kt)("inlineCode",{parentName:"li"},"mvn com.sap.cloud.sdk.datamodel:odata-v4-generator-maven-plugin:5.0.0:generate")))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.datamodel:openapi-generator-cli"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Call the generator directly as a maven plugin: ",(0,l.kt)("inlineCode",{parentName:"li"},"mvn com.sap.cloud.sdk.datamodel:openapi-generator-maven-plugin:5.0.0:generate")))))))),(0,l.kt)("h2",{id:"list-of-modules-that-remain-deprecated-with-version-5"},"List of modules that remain deprecated with version 5"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Full list of deprecated modules"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.s4hana:s4hana-connectivity")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.s4hana:s4hana-core")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.s4hana:rfc")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.datamodel:soap")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"com.sap.cloud.sdk.cloudplatform:auditlog-scp-cf")))),(0,l.kt)("h2",{id:"list-of-api-that-have-been-removed-with-version-5"},"List of API that have been removed with version 5"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Full list of deprecated API"),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,(0,l.kt)("b",null,"API")),(0,l.kt)("td",null,(0,l.kt)("b",null,"Replacement")),(0,l.kt)("td",null,(0,l.kt)("b",null,"Comment")))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,"DefaultErpHttpDestination"),(0,l.kt)("td",null,"HttpDestination"),(0,l.kt)("td",null,"HttpDestination now automatically adds sap-client and sap-language headers defined on the destination")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"ErpHttpDestination"),(0,l.kt)("td",null,"-"),(0,l.kt)("td",null,"No replacement necessary")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"ErpHttpDestinationProperties"),(0,l.kt)("td",null,"-"),(0,l.kt)("td",null,"No replacement necessary")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"ErpHttpDestinationUtils"),(0,l.kt)("td",null,"-"),(0,l.kt)("td",null,"No replacement necessary")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"StringConverter"),(0,l.kt)("td",null,"Java Standard Library"),(0,l.kt)("td",null,"The Java Standard Library offers the same features, e.g.",(0,l.kt)("code",null,"SimpleDateFormat")," or ",(0,l.kt)("code",null,"DateTimeFormatter"),", with the pattern",(0,l.kt)("code",null,"yyyy-MM-dd")," or ",(0,l.kt)("code",null,"yyyy-MM-dd HH:mm:ss"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,"StringValidator"),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://commons.apache.org/proper/commons-codec/"},"Apache Commons Codec")),(0,l.kt)("td",null,"Use libraries like"," ",(0,l.kt)("a",{href:"https://commons.apache.org/proper/commons-codec/"},"Apache Commons Codec"),", which offers a"," ",(0,l.kt)("a",{href:"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/Base64.html"},"Base64")," ","class.")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"ClientCredentialsValidator"),(0,l.kt)("td",null,"Java Standard Library"),(0,l.kt)("td",null,"For validation client secrets see ",(0,l.kt)("code",null,"StringValidator")," above. To validate the client id, try to match the regular expression",(0,l.kt)("code",null,"[a-zA-Z0-9\\\\-!|]+"),".")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"OAuth2ServiceProvider"),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/SAP/cloud-security-services-integration-library/tree/main/token-client"},"SAP BTP Java Token Client")),(0,l.kt)("td",null,"Please directly use the ",(0,l.kt)("a",{href:"https://github.com/SAP/cloud-security-services-integration-library/tree/main/token-client"},"SAP BTP Java Token Client")," library instead.")),(0,l.kt)("tr",null,(0,l.kt)("td",null,"AuthTokenBuilder"),(0,l.kt)("td",null,(0,l.kt)("a",{href:"https://github.com/auth0/java-jwt"},"Java JWT implementation")),(0,l.kt)("td",null,"For creating an ",(0,l.kt)("code",null,"AuthToken")," from scratch, please manually define the claims and optional audience field. For example:",(0,l.kt)("pre",null,"String jwt = JWT.create()",(0,l.kt)("br",null),'\xa0\xa0.withClaim("zid", "tenant-id")',(0,l.kt)("br",null),'\xa0\xa0.withClaim("iss", "http://subscriber.domain")',(0,l.kt)("br",null),'\xa0\xa0.withAudience("my-app!t123")',(0,l.kt)("br",null),"\xa0\xa0.sign(Algorithm.none());",(0,l.kt)("br",null),"AuthToken token = new AuthToken(JWT.decode(jwt));"),"Alternatively for creating extended unit tests based on token handling, please find the ",(0,l.kt)("a",{href:"https://github.com/SAP/cloud-security-services-integration-library/tree/main/java-security-test"},"SAP BTP Java Security Test")," library instead."))))),(0,l.kt)("h2",{id:"list-of-changes-to-the-odata-generator"},"List of changes to the OData Generator"),(0,l.kt)("details",null,(0,l.kt)("summary",null,"Full list of OData Generator changes"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"javax.inject.Named")," annotation removed from code generated by the OData v2 and v4 generators. With that, ",(0,l.kt)("a",{parentName:"li",href:"https://search.maven.org/artifact/javax.inject/javax.inject"},"the ",(0,l.kt)("inlineCode",{parentName:"a"},"javax.inject")," dependency")," is no longer needed to compile the generated code."))))}c.isMDXComponent=!0}}]);